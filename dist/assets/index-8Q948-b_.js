(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(e){if(e.ep)return;e.ep=!0;const c=n(e);fetch(e.href,c)}})();function calculator(){const text_top=document.getElementById("text_top"),main_text=document.getElementById("main_text");text_top.style.opacity=0;const btn_0=document.getElementById("btn_0"),btn_1=document.getElementById("btn_1"),btn_2=document.getElementById("btn_2"),btn_3=document.getElementById("btn_3"),btn_4=document.getElementById("btn_4"),btn_5=document.getElementById("btn_5"),btn_6=document.getElementById("btn_6"),btn_7=document.getElementById("btn_7"),btn_8=document.getElementById("btn_8"),btn_9=document.getElementById("btn_9"),numbersBtns=[btn_0,btn_1,btn_2,btn_3,btn_4,btn_5,btn_6,btn_7,btn_8,btn_9],btn_clear=document.getElementById("btn_clear"),btn_math_minus=document.getElementById("btn_math_minus"),btn_precent=document.getElementById("btn_precent"),btn_divide=document.getElementById("btn_divide"),btn_multiply=document.getElementById("btn_multiply"),btn_minus=document.getElementById("btn_minus"),btn_plus=document.getElementById("btn_plus"),btn_equals=document.getElementById("btn_equals"),btn_del=document.getElementById("btn_del"),btn_dot=document.getElementById("btn_dot"),mathOperators=[btn_plus,btn_minus,btn_multiply,btn_divide],adjustFontSize=()=>{const t=main_text,i=86,n=22,s=6,e=t.innerText.length;if(e>s){const c=Math.max(n,i-(e-s)*4);t.style.fontSize=`${c}px`}else t.style.fontSize=`${i}px`};btn_clear==null||btn_clear.addEventListener("click",()=>{text_top.innerText="0",text_top.style.opacity=0,main_text.innerText="0",adjustFontSize()}),numbersBtns==null||numbersBtns.forEach(t=>{t.addEventListener("click",()=>{const i=main_text.innerText;i==="0"?main_text.innerText=t.innerText:main_text.innerText=i+t.innerText,adjustFontSize()})}),mathOperators==null||mathOperators.forEach(t=>{t.addEventListener("click",()=>{const i=main_text.innerText;main_text.innerText=i+t.innerText,adjustFontSize()})}),btn_math_minus.addEventListener("click",()=>{main_text.innerText.startsWith("-")?main_text.innerText=main_text.innerText.substring(1):main_text.innerText="-"+main_text.innerText}),btn_precent==null||btn_precent.addEventListener("click",()=>{const current_number=main_text.innerText;main_text.innerText=(eval(current_number)/100).toString()}),btn_equals==null||btn_equals.addEventListener("click",()=>{const current_value=main_text.innerText;text_top.style.opacity=1,text_top.innerText=current_value;const result=eval(current_value);main_text.innerText=result.toString()}),btn_del==null||btn_del.addEventListener("click",()=>{if(main_text.innerText!=="0"){const t=main_text.innerText;main_text.innerText=t.slice(0,-1)}main_text.innerText===""&&(main_text.innerText="0")}),btn_dot==null||btn_dot.addEventListener("click",()=>{main_text.innerText.includes(".")||(main_text.innerText+=".")}),document.addEventListener("keydown",t=>{if(["0","1","2","3","4","5","6","7","8","9"].includes(t.key)&&document.getElementById(`btn_${t.key}`).click(),t.key==="+"){const n=main_text.innerText;main_text.innerText=n+"+"}if(t.key==="-"){const n=main_text.innerText;main_text.innerText=n+"-"}if(t.key==="*"){const n=main_text.innerText;main_text.innerText=n+"*"}if(t.key==="/"){const n=main_text.innerText;main_text.innerText=n+"/"}(t.key==="="||t.key==="Enter")&&btn_equals.click(),t.key==="Backspace"&&btn_del.click(),(t.key.toLowerCase()==="c"||t.key.toLowerCase()==="escape")&&btn_clear.click()})}function themeSwitcher(){const t=document.querySelector("#app"),i=document.querySelector(".theme_switcher"),n=document.querySelector(".theme_switcher_item");i.addEventListener("click",()=>{t.classList.contains("dark_theme")?(t.classList.remove("dark_theme"),localStorage.setItem("currentTheme","dark"),n.style.right="0",n.style.left="unset"):(t.classList.add("dark_theme"),localStorage.setItem("currentTheme","light"),n.style.left="0",n.style.right="")})}const app=document.querySelector("#app");app.classList.add("dark_theme");const buttons=[{type:"button",class:"btn_gray",id:"btn_clear",text:"C"},{type:"button",class:"btn_gray",id:"btn_math_minus",text:"+/-"},{type:"button",class:"btn_gray",id:"btn_precent",text:"%"},{type:"button",class:"btn_blue",id:"btn_divide",text:"/"},{type:"button",id:"btn_7",text:"7"},{type:"button",id:"btn_8",text:"8"},{type:"button",id:"btn_9",text:"9"},{type:"button",class:"btn_blue",id:"btn_multiply",text:"*"},{type:"button",id:"btn_4",text:"4"},{type:"button",id:"btn_5",text:"5"},{type:"button",id:"btn_6",text:"6"},{type:"button",class:"btn_blue",id:"btn_minus",text:"-"},{type:"button",id:"btn_1",text:"1"},{type:"button",id:"btn_2",text:"2"},{type:"button",id:"btn_3",text:"3"},{type:"button",class:"btn_blue",id:"btn_plus",text:"+"},{type:"button",id:"btn_dot",text:"."},{type:"button",id:"btn_0",text:"0"},{type:"button",id:"btn_del",text:"←"},{type:"button",class:"btn_blue",id:"btn_equals",text:"="}],buttonElements=buttons.map(t=>{const i=t.class?` class="${t.class}"`:"";return`<button type="${t.type}"${i} id="${t.id}">${t.text}</button>`}).join(`
`);app.innerHTML=`
<div class="container">
  <div class="theme_switcher">
    <div class="theme_switcher_item"></div>
  </div>
  <div class="calculator_content">
    <div class="inputs">
      <h4 id="text_top">0</h4>
      <h1 id="main_text">0</h1>
    </div>
    <div class="btns_wrapper">
      ${buttonElements}
    </div>
  </div>
</div>`;calculator();themeSwitcher();
